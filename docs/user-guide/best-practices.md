# å¼€å‘æœ€ä½³å®è·µ

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨ä»¥æœ€ä½³æ–¹å¼ä½¿ç”¨ TinyShip SaaS æ¨¡æ¿ï¼Œç¡®ä¿æ‚¨çš„é¡¹ç›®èƒ½å¤Ÿé¡ºåˆ©å¼€å‘ã€ç»´æŠ¤å’Œå‡çº§ã€‚

## ğŸ“‘ ç›®å½•

- [1. é€‰æ‹©åˆé€‚çš„æ¡†æ¶](#1-é€‰æ‹©åˆé€‚çš„æ¡†æ¶)
  - [Next.js åº”ç”¨ (`apps/next-app/`)](#nextjs-åº”ç”¨-appsnext-app)
  - [Nuxt.js åº”ç”¨ (`apps/nuxt-app/`)](#nuxtjs-åº”ç”¨-appsnuxt-app)
  - [æ¨èé€‰æ‹©ç­–ç•¥](#æ¨èé€‰æ‹©ç­–ç•¥)
- [2. åˆ†æ”¯ç®¡ç†ç­–ç•¥](#2-åˆ†æ”¯ç®¡ç†ç­–ç•¥)
  - [æ¨èçš„ Git å·¥ä½œæµ](#æ¨èçš„-git-å·¥ä½œæµ)
  - [åˆ†æ”¯å‘½åè§„èŒƒ](#åˆ†æ”¯å‘½åè§„èŒƒ)
  - [æäº¤ä¿¡æ¯è§„èŒƒ](#æäº¤ä¿¡æ¯è§„èŒƒ)
- [3. æ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½](#3-æ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½)
  - [3.1 åˆ›å»ºæ–°çš„ API ç«¯ç‚¹](#31-åˆ›å»ºæ–°çš„-api-ç«¯ç‚¹)
- [4. æ¥å—æ¨¡æ¿æ›´æ–°](#4-æ¥å—æ¨¡æ¿æ›´æ–°)
  - [4.1 å®šæœŸåŒæ­¥ä¸Šæ¸¸æ›´æ–°](#41-å®šæœŸåŒæ­¥ä¸Šæ¸¸æ›´æ–°)
  - [4.2 å¤„ç†å†²çª](#42-å¤„ç†å†²çª)
  - [4.3 åˆå¹¶æ›´æ–°åˆ°åŠŸèƒ½åˆ†æ”¯](#43-åˆå¹¶æ›´æ–°åˆ°åŠŸèƒ½åˆ†æ”¯)

## 1. é€‰æ‹©åˆé€‚çš„æ¡†æ¶

Tinyship æä¾›äº†ä¸¤ä¸ªå‰ç«¯æ¡†æ¶é€‰æ‹©ï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ¡†æ¶ï¼š

### Next.js åº”ç”¨ (`apps/next-app/`)

**é€‚ç”¨åœºæ™¯ï¼š**
- âœ… éœ€è¦å¼ºå¤§çš„ SEO æ”¯æŒ
- âœ… å¤æ‚çš„æœåŠ¡ç«¯æ¸²æŸ“éœ€æ±‚
- âœ… å›¢é˜Ÿç†Ÿæ‚‰ React ç”Ÿæ€
- âœ… éœ€è¦ç»†ç²’åº¦çš„æ€§èƒ½ä¼˜åŒ–
- âœ… ä¼ä¸šçº§åº”ç”¨å¼€å‘

**ç‰¹ç‚¹ï¼š**
- å®Œæ•´çš„ App Router æ”¯æŒ
- å†…ç½®å›¾åƒä¼˜åŒ–å’Œå­—ä½“ä¼˜åŒ–
- å¼ºå¤§çš„ä¸­é—´ä»¶ç³»ç»Ÿ
- ä¸°å¯Œçš„éƒ¨ç½²é€‰é¡¹

### Nuxt.js åº”ç”¨ (`apps/nuxt-app/`)

**é€‚ç”¨åœºæ™¯ï¼š**
- âœ… å¿«é€Ÿå¼€å‘å’ŒåŸå‹åˆ¶ä½œ
- âœ… å›¢é˜Ÿç†Ÿæ‚‰ Vue ç”Ÿæ€
- âœ… éœ€è¦å¼€ç®±å³ç”¨çš„åŠŸèƒ½
- âœ… ä¸­å°å‹é¡¹ç›®
- âœ… æ³¨é‡å¼€å‘ä½“éªŒ

**ç‰¹ç‚¹ï¼š**
- é›¶é…ç½®å¼€å‘ä½“éªŒ
- è‡ªåŠ¨å¯¼å…¥ç»„ä»¶å’Œç»„åˆå¼å‡½æ•°
- å†…ç½®çŠ¶æ€ç®¡ç†
- ç®€æ´çš„ç›®å½•ç»“æ„

### æ¨èé€‰æ‹©ç­–ç•¥

```mermaid
flowchart TD
    A[å¼€å§‹é€‰æ‹©æ¡†æ¶] --> B{å›¢é˜ŸæŠ€æœ¯æ ˆ}
    B -->|React èƒŒæ™¯| C[Next.js]
    B -->|Vue èƒŒæ™¯| D[Nuxt.js]
    B -->|éƒ½ç†Ÿæ‚‰| E{é¡¹ç›®å¤æ‚åº¦}
    E -->|ä¼ä¸šçº§/å¤æ‚| C
    E -->|ä¸­å°å‹/å¿«é€Ÿå¼€å‘| D
    C --> F[ä½¿ç”¨ apps/next-app/]
    D --> G[ä½¿ç”¨ apps/nuxt-app/]
```

## 2. åˆ†æ”¯ç®¡ç†ç­–ç•¥

### æ¨èçš„ Git å·¥ä½œæµ

```bash
# 1. Fork æˆ– Clone æ¨¡æ¿
git clone https://github.com/TinyshipCN/tinyship.git your-project-name
cd your-project-name

# 2. è®¾ç½®ä¸Šæ¸¸ä»“åº“ï¼ˆç”¨äºæ¥æ”¶æ¨¡æ¿æ›´æ–°ï¼‰
git remote add upstream https://github.com/TinyshipCN/tinyship.git

# 3. åˆ›å»ºæ‚¨çš„å¼€å‘åˆ†æ”¯
git checkout -b feature/your-feature-name
```

### åˆ†æ”¯å‘½åè§„èŒƒ

| åˆ†æ”¯ç±»å‹ | å‘½åæ ¼å¼ | ç¤ºä¾‹ |
|----------|----------|------|
| åŠŸèƒ½å¼€å‘ | `feature/åŠŸèƒ½åç§°` | `feature/user-profile` |
| é—®é¢˜ä¿®å¤ | `fix/é—®é¢˜æè¿°` | `fix/payment-validation` |
| æ–‡æ¡£æ›´æ–° | `docs/æ–‡æ¡£ç±»å‹` | `docs/api-guide` |
| æ€§èƒ½ä¼˜åŒ– | `perf/ä¼˜åŒ–å†…å®¹` | `perf/database-queries` |
| é‡æ„ä»£ç  | `refactor/é‡æ„æ¨¡å—` | `refactor/auth-middleware` |

### æäº¤ä¿¡æ¯è§„èŒƒ

```bash
# ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯
feat: add user subscription management
fix: resolve payment webhook timeout issue
docs: update authentication setup guide
perf: optimize database connection pooling
refactor: restructure email templates
```

## 3. æ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½

### 3.1 åˆ›å»ºæ–°çš„ API ç«¯ç‚¹

**âŒ é¿å…ä¿®æ”¹ç°æœ‰æ¥å£ï¼š**
```typescript
// ä¸è¦ä¿®æ”¹ apps/next-app/app/api/users/route.ts
export async function GET() {
  // ä¿®æ”¹ç°æœ‰é€»è¾‘å¯èƒ½å¯¼è‡´å†²çª
}
```

**âœ… åˆ›å»ºæ–°çš„ç«¯ç‚¹ï¼š**
```typescript
// åˆ›å»º apps/next-app/app/api/users/profile/route.ts
export async function GET() {
  // æ‚¨çš„è‡ªå®šä¹‰é€»è¾‘
}

// åˆ›å»º apps/next-app/app/api/custom/analytics/route.ts
export async function POST() {
  // æ‚¨çš„åˆ†æåŠŸèƒ½
}
```

## 4. æ¥å—æ¨¡æ¿æ›´æ–°

### 4.1 å®šæœŸåŒæ­¥ä¸Šæ¸¸æ›´æ–°

```bash
# 1. åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯
git checkout main

# 2. è·å–ä¸Šæ¸¸æ›´æ–°
git fetch upstream

# 3. åˆå¹¶ä¸Šæ¸¸æ›´æ–°
git merge upstream/main

# 4. æ¨é€åˆ°æ‚¨çš„è¿œç¨‹ä»“åº“
git push origin main
```

### 4.2 å¤„ç†å†²çª

å½“æ‚¨çš„è‡ªå®šä¹‰ä»£ç ä¸æ¨¡æ¿æ›´æ–°å‘ç”Ÿå†²çªæ—¶ï¼š

```bash
# 1. æŸ¥çœ‹å†²çªæ–‡ä»¶
git status

# 2. æ‰‹åŠ¨è§£å†³å†²çª
# ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œä¿ç•™æ‚¨çš„è‡ªå®šä¹‰é€»è¾‘

# 3. æ ‡è®°å†²çªå·²è§£å†³
git add <è§£å†³å†²çªçš„æ–‡ä»¶>

# 4. å®Œæˆåˆå¹¶
git commit -m "resolve merge conflicts with upstream updates"
```

### 4.3 åˆå¹¶æ›´æ–°åˆ°åŠŸèƒ½åˆ†æ”¯

```bash
# åˆ‡æ¢åˆ°æ‚¨çš„åŠŸèƒ½åˆ†æ”¯
git checkout feature/your-feature-name

# åˆå¹¶æœ€æ–°çš„ä¸»åˆ†æ”¯
git merge main

# è§£å†³å¯èƒ½çš„å†²çªå¹¶æµ‹è¯•
npm run dev
```


**è®°ä½ï¼šå§‹ç»ˆä¿æŒæ‚¨çš„è‡ªå®šä¹‰ä»£ç ä¸æ¨¡æ¿æ ¸å¿ƒåŠŸèƒ½åˆ†ç¦»ï¼Œè¿™æ ·æ‚¨å°±èƒ½è½»æ¾è·å¾—æ¨¡æ¿çš„æŒç»­æ›´æ–°å’Œæ”¹è¿›ï¼** 